var FileStationAPI = (function () {
    function FileStationAPI(downloadStation) {
        this.downloadStation = downloadStation;
    }
    FileStationAPI.prototype.listFolders = function (folderPath, callback) {
        var _this = this;
        if (!folderPath) {
            folderPath = "/";
        }
        if (folderPath == "/") {
            this.fileStationListShare(function (success, data) {
                if (data.shares) {
                    data = data.shares;
                }
                if (callback) {
                    callback(success, data);
                }
            });
        }
        else {
            this.fileStationList(folderPath, function (success, data) {
                if (data.files) {
                    data = data.files;
                }
                if (callback) {
                    callback.call(_this, success, data);
                }
            });
        }
    };
    ;
    FileStationAPI.prototype.createFolder = function (destinationPath, name, callback) {
        var params = {
            dest: destinationPath,
            type: 'folder',
            name: name
        };
        this.downloadStation._apiCall('SYNO.Core.File', 'create', 1, params, callback);
    };
    ;
    FileStationAPI.prototype.fileStationListShare = function (callback) {
        var params = {
            offset: 0,
            limit: 0,
            sort_by: 'name',
            sort_direction: 'asc',
            onlywritable: false,
            additional: 'perm'
        };
        this.downloadStation._apiCall('SYNO.FileStation.List', 'list_share', 1, params, callback);
    };
    ;
    FileStationAPI.prototype.fileStationList = function (folderPath, callback) {
        var params = {
            folder_path: folderPath,
            offset: 0,
            limit: 0,
            sort_by: 'name',
            sort_direction: 'asc',
            filetype: 'dir',
            onlywritable: false,
            additional: 'perm'
        };
        this.downloadStation._apiCall('SYNO.FileStation.List', 'list', 1, params, callback);
    };
    ;
    FileStationAPI.prototype.fileStationFileInfo = function (paths, callback) {
        if (Array.isArray(paths)) {
            paths = paths.join(",");
        }
        var params = {
            path: paths,
            additional: "size,type"
        };
        this.downloadStation._apiCall('SYNO.FileStation.List', 'getinfo', 1, params, callback);
    };
    FileStationAPI.prototype.fileStationCreateFolder = function (folder_path, names, callback) {
        if (Array.isArray(names)) {
            names = names.join(",");
        }
        var params = {
            folder_path: folder_path,
            name: names,
            force_parent: false
        };
        this.downloadStation._apiCall('SYNO.FileStation.CreateFolder', 'create', 1, params, callback);
    };
    FileStationAPI.prototype.fileStationRename = function (path, newName, callback) {
        var params = {
            path: path,
            name: newName,
            additional: "perm"
        };
        this.downloadStation._apiCall("SYNO.FileStation.Rename", "rename", 1, params, function (success, data, errors) {
            if (success && data.files.length == 1) {
                data = data.files[0];
            }
            if (callback) {
                callback(success, data, errors);
            }
        });
    };
    FileStationAPI.prototype.fileStationDelete = function (paths, callback) {
        if (Array.isArray(paths)) {
            paths = paths.join(",");
        }
        var params = {
            path: paths,
            recursive: true
        };
        this.downloadStation._apiCall('SYNO.FileStation.Delete', 'delete', 1, params, callback);
    };
    ;
    return FileStationAPI;
}());

//# sourceMappingURL=data:application/json;base64,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QVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFVBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNO1lBQzlGLEVBQUUsQ0FBQSxDQUFDLE9BQU8sSUFBSSxJQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ3RDLElBQUksR0FBRyxJQUksQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDYixDQUNBO1lBRUEsRUFBRSxDQUFBLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQztnQkFDYixRQUFRLENBQUMsT0FBTyxFQUFFLElBQUksRUFBRSxNQUFNLENBQUMsQ0FBQztZQUN4QixDQUNBO1FBQ1gsQ0FBQyxDQUFDLENBQUM7SUFDSixDQUNBO0lBRU0sMENBQWlCLEdBQXhCLFVBQXlCLEtBQTJCLEVBQUUsUUFBc0Y7UUFFM0ksRUFBRSxDQUFBLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUMsQ0FDeEIsQ0FBQztZQUNBLEtBQUssR0FBbUIsS0FBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztRQUMxQyxDQUNBO1FBRUEsSUFBSSxNQUFNLEdBQUc7WUFDWixJQUFJLEVBQUUsS0FBSztZQUNYLFNBQVMsRUFBRSxJQUFJO1NBQ2YsQ0FBQztRQUVGLElBQUksQ0FBQyxlQUFlLENBQUMsUUFBUSxDQUFDLHlCQUF5QixFQUFFLFFBQVEsRUFBRSxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQ3ZGLENBQUE7O0lBQ0YscUJBQUM7QUFBRCxDQTNJQSxBQTJJQyxJQUFBIiwiZmlsZSI6ImpzL2ZpbGVzdGF0aW9uLWFwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImNsYXNzIEZpbGVTdGF0aW9uQVBJIHtcclxuICAgIHByaXZhdGUgZG93bmxvYWRTdGF0aW9uOiBEb3dubG9hZFN0YXRpb25BUEk7XHJcblxyXG4gICAgY29uc3RydWN0b3IoZG93bmxvYWRTdGF0aW9uOiBEb3dubG9hZFN0YXRpb25BUEkpIHtcclxuICAgICAgICB0aGlzLmRvd25sb2FkU3RhdGlvbiA9IGRvd25sb2FkU3RhdGlvbjtcclxuICAgIH1cclxuXHJcblx0cHVibGljIGxpc3RGb2xkZXJzKGZvbGRlclBhdGg6IHN0cmluZywgY2FsbGJhY2s6IChzdWNjZXNzOiBib29sZWFuLCBkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcclxuXHRcdGlmKCFmb2xkZXJQYXRoKVxyXG5cdFx0e1xyXG5cdFx0XHRmb2xkZXJQYXRoID0gXCIvXCI7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYoZm9sZGVyUGF0aCA9PSBcIi9cIilcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5maWxlU3RhdGlvbkxpc3RTaGFyZSgoc3VjY2VzcywgZGF0YSkgPT4ge1xyXG5cdFx0XHRcdGlmKGRhdGEuc2hhcmVzKSB7XHJcblx0XHRcdFx0XHRkYXRhID0gZGF0YS5zaGFyZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHJcblx0XHRcdCAgICBpZihjYWxsYmFjaykge1xyXG5cdFx0XHQgICAgXHRjYWxsYmFjayhzdWNjZXNzLCBkYXRhKTtcclxuICAgICAgICAgICAgICAgIH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblx0XHRlbHNlXHJcblx0XHR7XHJcblx0XHRcdHRoaXMuZmlsZVN0YXRpb25MaXN0KGZvbGRlclBhdGgsIChzdWNjZXNzLCBkYXRhKSA9PiB7XHJcblx0XHRcdFx0aWYoZGF0YS5maWxlcykge1xyXG5cdFx0XHRcdFx0ZGF0YSA9IGRhdGEuZmlsZXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcblx0XHRcdFx0XHJcblx0XHRcdCAgICBpZihjYWxsYmFjaykge1xyXG5cdFx0XHQgICAgXHRjYWxsYmFjay5jYWxsKHRoaXMsIHN1Y2Nlc3MsIGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdFxyXG5cdHB1YmxpYyBjcmVhdGVGb2xkZXIoZGVzdGluYXRpb25QYXRoOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY2FsbGJhY2s6IChzdWNjZXNzOiBib29sZWFuLCBkYXRhOiBhbnkpID0+IHZvaWQpOiB2b2lkIHtcclxuXHRcdHZhciBwYXJhbXMgPSB7XHJcblx0XHRcdGRlc3Q6IGRlc3RpbmF0aW9uUGF0aCxcclxuXHRcdFx0dHlwZTogJ2ZvbGRlcicsXHJcblx0XHRcdG5hbWU6IG5hbWVcclxuXHRcdH07XHJcblx0XHRcclxuXHQgICAgdGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoJ1NZTU8uQ29yZS5GaWxlJywgJ2NyZWF0ZScsIDEsIHBhcmFtcywgY2FsbGJhY2spO1xyXG5cdH07XHJcblx0XHJcblx0cHVibGljIGZpbGVTdGF0aW9uTGlzdFNoYXJlKGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbiwgZGF0YTogYW55KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0ICAgIHZhciBwYXJhbXMgPSB7XHJcblx0ICAgICAgICBvZmZzZXQ6IDAsXHJcblx0ICAgICAgICBsaW1pdDogMCxcclxuXHQgICAgICAgIHNvcnRfYnk6ICduYW1lJyxcclxuXHQgICAgICAgIHNvcnRfZGlyZWN0aW9uOiAnYXNjJyxcclxuXHQgICAgICAgIG9ubHl3cml0YWJsZTogZmFsc2UsXHJcblx0ICAgICAgICBhZGRpdGlvbmFsOiAncGVybSdcclxuXHQgICAgfTtcclxuXHRcclxuXHQgICAgdGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoJ1NZTU8uRmlsZVN0YXRpb24uTGlzdCcsICdsaXN0X3NoYXJlJywgMSwgcGFyYW1zLCBjYWxsYmFjayk7XHJcblx0fTtcclxuXHJcblx0cHVibGljIGZpbGVTdGF0aW9uTGlzdChmb2xkZXJQYXRoOiBzdHJpbmcsIGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbiwgZGF0YTogYW55KSA9PiB2b2lkKTogdm9pZCB7XHJcblx0ICAgIHZhciBwYXJhbXMgPSB7XHJcblx0ICAgIFx0Zm9sZGVyX3BhdGg6IGZvbGRlclBhdGgsXHJcblx0ICAgICAgICBvZmZzZXQ6IDAsXHJcblx0ICAgICAgICBsaW1pdDogMCxcclxuXHQgICAgICAgIHNvcnRfYnk6ICduYW1lJyxcclxuXHQgICAgICAgIHNvcnRfZGlyZWN0aW9uOiAnYXNjJyxcclxuXHQgICAgICAgIGZpbGV0eXBlOiAnZGlyJywgLy8gZmlsZSwgZGlyLCBhbGxcclxuXHQgICAgICAgIG9ubHl3cml0YWJsZTogZmFsc2UsXHJcblx0ICAgICAgICBhZGRpdGlvbmFsOiAncGVybSdcclxuXHQgICAgfTtcclxuICAgICAgICBcclxuXHQgICAgdGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoJ1NZTU8uRmlsZVN0YXRpb24uTGlzdCcsICdsaXN0JywgMSwgcGFyYW1zLCBjYWxsYmFjayk7XHJcblx0fTtcclxuXHJcblx0cHVibGljIGZpbGVTdGF0aW9uRmlsZUluZm8ocGF0aHM6IHN0cmluZ3xBcnJheTxzdHJpbmc+LCBjYWxsYmFjazogKHN1Y2Nlc3M6IGJvb2xlYW4sIGRhdGE6IGFueSkgPT4gdm9pZCk6IHZvaWQge1xyXG5cdFx0aWYoQXJyYXkuaXNBcnJheShwYXRocykpXHJcblx0XHR7XHJcblx0XHRcdHBhdGhzID0gKDxBcnJheTxzdHJpbmc+PnBhdGhzKS5qb2luKFwiLFwiKTtcclxuXHRcdH1cclxuXHRcdFxyXG5cdCAgICB2YXIgcGFyYW1zID0ge1xyXG5cdCAgICBcdHBhdGg6IHBhdGhzLFxyXG5cdCAgICBcdGFkZGl0aW9uYWw6IFwic2l6ZSx0eXBlXCJcclxuXHQgICAgfTtcclxuXHRcclxuXHQgICAgdGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoJ1NZTU8uRmlsZVN0YXRpb24uTGlzdCcsICdnZXRpbmZvJywgMSwgcGFyYW1zLCBjYWxsYmFjayk7XHJcblx0fVxyXG5cdFxyXG5cdHB1YmxpYyBmaWxlU3RhdGlvbkNyZWF0ZUZvbGRlcihmb2xkZXJfcGF0aDogc3RyaW5nLCBuYW1lczogc3RyaW5nfEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbiwgZGF0YTogYW55LCBhZGRpdGlvbmFsRXJyb3JzPzogU3lub2xvZ3lBcGlFcnJvcltdKSA9PiB2b2lkKTogdm9pZCB7XHJcblx0XHRcclxuXHRcdGlmKEFycmF5LmlzQXJyYXkobmFtZXMpKVxyXG5cdFx0e1xyXG5cdFx0XHRuYW1lcyA9ICg8QXJyYXk8c3RyaW5nPj5uYW1lcykuam9pbihcIixcIik7XHJcblx0XHR9XHJcblx0XHRcclxuXHQgICAgdmFyIHBhcmFtcyA9IHtcclxuXHQgICAgXHRmb2xkZXJfcGF0aDogZm9sZGVyX3BhdGgsXHJcblx0ICAgIFx0bmFtZTogbmFtZXMsXHJcblx0ICAgIFx0Zm9yY2VfcGFyZW50OiBmYWxzZVxyXG5cdCAgICB9O1xyXG5cdFxyXG5cdCAgICB0aGlzLmRvd25sb2FkU3RhdGlvbi5fYXBpQ2FsbCgnU1lOTy5GaWxlU3RhdGlvbi5DcmVhdGVGb2xkZXInLCAnY3JlYXRlJywgMSwgcGFyYW1zLCBjYWxsYmFjayk7XHJcblx0fVxyXG5cdFxyXG5cdHB1YmxpYyBmaWxlU3RhdGlvblJlbmFtZShwYXRoOiBzdHJpbmcsIG5ld05hbWU6IHN0cmluZywgY2FsbGJhY2s6IChzdWNjZXNzOiBib29sZWFuLCBkYXRhOiBhbnksIGFkZGl0aW9uYWxFcnJvcnM/OiBTeW5vbG9neUFwaUVycm9yW10pID0+IHZvaWQpOiB2b2lkIHtcclxuXHRcdHZhciBwYXJhbXMgPSB7XHJcblx0XHRcdHBhdGg6IHBhdGgsXHJcblx0XHRcdG5hbWU6IG5ld05hbWUsXHJcblx0XHRcdGFkZGl0aW9uYWw6IFwicGVybVwiXHJcblx0XHR9O1xyXG5cdFxyXG5cdFx0dGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoXCJTWU5PLkZpbGVTdGF0aW9uLlJlbmFtZVwiLCBcInJlbmFtZVwiLCAxLCBwYXJhbXMsIChzdWNjZXNzLCBkYXRhLCBlcnJvcnMpID0+IHtcclxuXHRcdFx0aWYoc3VjY2VzcyAmJiBkYXRhLmZpbGVzLmxlbmd0aCA9PSAxKSB7XHJcblx0XHRcdFx0ZGF0YSA9IGRhdGEuZmlsZXNbMF07XHJcbiAgICAgICAgICAgIH1cclxuXHRcdFx0XHJcblx0XHRcdGlmKGNhbGxiYWNrKSB7XHJcblx0XHRcdFx0Y2FsbGJhY2soc3VjY2VzcywgZGF0YSwgZXJyb3JzKTtcclxuICAgICAgICAgICAgfVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cdFxyXG5cdHB1YmxpYyBmaWxlU3RhdGlvbkRlbGV0ZShwYXRoczogc3RyaW5nfEFycmF5PHN0cmluZz4sIGNhbGxiYWNrOiAoc3VjY2VzczogYm9vbGVhbiwgZGF0YTogYW55LCBhZGRpdGlvbmFsRXJyb3JzPzogU3lub2xvZ3lBcGlFcnJvcltdKSA9PiB2b2lkKTogdm9pZCB7XHJcblx0XHRcclxuXHRcdGlmKEFycmF5LmlzQXJyYXkocGF0aHMpKVxyXG5cdFx0e1xyXG5cdFx0XHRwYXRocyA9ICg8QXJyYXk8c3RyaW5nPj5wYXRocykuam9pbihcIixcIik7XHJcblx0XHR9XHJcblx0XHRcclxuXHQgICAgdmFyIHBhcmFtcyA9IHtcclxuXHQgICAgXHRwYXRoOiBwYXRocyxcclxuXHQgICAgXHRyZWN1cnNpdmU6IHRydWVcclxuXHQgICAgfTtcclxuICAgICAgICBcclxuXHQgICAgdGhpcy5kb3dubG9hZFN0YXRpb24uX2FwaUNhbGwoJ1NZTU8uRmlsZVN0YXRpb24uRGVsZXRlJywgJ2RlbGV0ZScsIDEsIHBhcmFtcywgY2FsbGJhY2spO1xyXG5cdH07XHJcbn0iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
